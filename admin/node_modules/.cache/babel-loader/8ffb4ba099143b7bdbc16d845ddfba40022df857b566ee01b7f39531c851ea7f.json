{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      status: true,\n      admin: {\n        admin_id: \"\",\n        first_name: \"\",\n        last_name: \"\",\n        mobile1: \"\",\n        mobile2: \"\",\n        role: \"\",\n        email: \"\"\n      },\n      errors: []\n    };\n  },\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      if (to.name == \"Admins.Create\") {\n        vm.$refs.first_name.focus();\n      } else {\n        vm.status = false;\n        let uri = {\n          uri: \"getAdmin\",\n          data: {\n            admin_id: to.params.admin_id\n          }\n        };\n        vm.$store.dispatch(\"post\", uri).then(function (response) {\n          console.log(\"response-----\", response.data.data);\n          vm.admin = response.data.data;\n        }).catch(function (error) {\n          vm.errors = error.response.data.errors;\n          vm.$store.dispatch(\"error\", error.response.data.message);\n        });\n      }\n    });\n  },\n  methods: {\n    submitForm() {\n      let vm = this;\n      if (vm.status) {\n        vm.addAdmin();\n      } else {\n        vm.updateAdmin();\n      }\n    },\n    addAdmin() {\n      let vm = this;\n      let loader = vm.$loading.show();\n      vm.$store.dispatch(\"post\", {\n        uri: \"addAdmin\",\n        data: vm.admin\n      }).then(() => {\n        loader.hide();\n        this.$store.dispatch('success', \"Admin created successfully\");\n        vm.$router.push(\"/admins\");\n      }).catch(function (error) {\n        loader.hide();\n        vm.errors = error.response.data.errors;\n        vm.$store.dispatch(\"error\", error.response.data.message);\n      });\n    },\n    updateAdmin() {\n      let vm = this;\n      let loader = vm.$loading.show();\n      vm.$store.dispatch(\"post\", {\n        uri: \"updateAdmin\",\n        data: vm.admin\n      }).then(() => {\n        loader.hide();\n        this.$store.dispatch('success', \"Admin updated successfully\");\n        vm.$router.push(\"/admins\");\n      }).catch(function (error) {\n        loader.hide();\n        vm.errors = error.response.data.errors;\n        vm.$store.dispatch(\"error\", error.response.data.message);\n      });\n    },\n    discard() {\n      let vm = this;\n      vm.admin.first_name = \"\";\n      vm.admin.last_name = \"\";\n      vm.admin.email = \"\";\n      vm.admin.mobile1 = \"\";\n      vm.admin.mobile2 = \"\";\n      vm.admin.role = \"\";\n      vm.$refs.first_name.focus();\n      vm.errors = [];\n      vm.status = true;\n    }\n  }\n};","map":{"version":3,"names":["data","status","admin","admin_id","first_name","last_name","mobile1","mobile2","role","email","errors","beforeRouteEnter","to","from","next","vm","name","$refs","focus","uri","params","$store","dispatch","then","response","console","log","catch","error","message","methods","submitForm","addAdmin","updateAdmin","loader","$loading","show","hide","$router","push","discard"],"sources":["C:\\xampp\\htdocs\\bidsportal_new\\admin\\src\\views\\AdminManagement\\Create.vue"],"sourcesContent":["<template>\r\n    <div class=\"container-fluid pb-3\">\r\n        <div class=\"d-flex justify-content-between align-items-center\">\r\n            <h2 class=\"main-title mb-2\">Admin</h2>\r\n            <router-link to=\"/admins\" class=\"btn btn-primary mb-2\">Admins</router-link>\r\n        </div>\r\n        <div class=\"row g-3\">\r\n            <div class=\"col-md-12\">\r\n                <form class=\"card\" @submit.prevent=\"submitForm()\">\r\n                    <div class=\"card-header\">\r\n                        <div class=\"d-sm-flex align-items-center justify-content-between\">\r\n                            <h6 class=\"card-title mb-0\" v-if=\"status\"><strong>Add Admin</strong></h6>\r\n                            <h6 class=\"card-title mb-0\" v-else><strong>Update Admin</strong></h6>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row g-3\">\r\n                            <div class=\"col-sm-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label>First Name<span class=\"text-danger\">*</span></label>\r\n                                    <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"First Name\" ref=\"first_name\"\r\n                                        :class=\"{ 'is-invalid': errors?.first_name }\" v-model=\"admin.first_name\" />\r\n                                    <span v-if=\"errors?.first_name\" class=\"invalid-feedback\">{{ errors?.first_name[0] }}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Last Name<span class=\"text-danger\">*</span></label>\r\n                                    <input type=\"text\" class=\"form-control form-control-sm\" placeholder=\"Last Name\"\r\n                                        :class=\"{ 'is-invalid': errors?.last_name }\" v-model=\"admin.last_name\" />\r\n                                    <span v-if=\"errors?.last_name\" class=\"invalid-feedback\">{{ errors?.last_name[0] }}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Email<span class=\"text-danger\">*</span></label>\r\n                                    <input type=\"email\" class=\"form-control form-control-sm\" placeholder=\"Email\"\r\n                                        :class=\"{ 'is-invalid': errors?.email }\" v-model=\"admin.email\" />\r\n                                    <span v-if=\"errors?.email\" class=\"invalid-feedback\">{{ errors?.email[0] }}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Mobile1<span class=\"text-danger\">*</span></label>\r\n                                    <input type=\"mobile1\" class=\"form-control form-control-sm\" placeholder=\"Mobile1\"\r\n                                        :class=\"{ 'is-invalid': errors?.mobile1 }\" v-model=\"admin.mobile1\" />\r\n                                    <span v-if=\"errors?.mobile1\" class=\"invalid-feedback\">{{ errors?.mobile1[0] }}</span>\r\n                                </div>\r\n                            </div>\r\n                             <div class=\"col-sm-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Mobile2<span class=\"text-danger\">*</span></label>\r\n                                    <input type=\"mobile2\" class=\"form-control form-control-sm\" placeholder=\"Mobile2\"\r\n                                        :class=\"{ 'is-invalid': errors?.mobile2 }\" v-model=\"admin.mobile2\" />\r\n                                    <span v-if=\"errors?.mobile2\" class=\"invalid-feedback\">{{ errors?.mobile2[0] }}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-sm-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Role <span class=\"text-danger\">*</span></label>\r\n                                    <select class=\"form-control form-control-sm\"\r\n                                        :class=\"{ 'is-invalid': errors?.role }\" v-model=\"admin.role\">\r\n                                        <option value=\"\">Select Role</option>\r\n                                        <option value=\"Basic\">Basic</option>\r\n                                        <option value=\"Super\">Super</option>\r\n                                    </select>\r\n                                    <span v-if=\"errors?.role\" class=\"invalid-feedback\">{{ errors?.role[0] }}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-footer text-end\">\r\n                            <button type=\"button\" class=\"btn btn-warning me-2\" @click=\"discard\">Discard</button>\r\n                            <button class=\"btn btn-primary\" type=\"submit\">\r\n                                <span v-if=\"status\">Submit </span>\r\n                                <span v-else>Update </span>\r\n                            </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            status: true,\r\n            admin: {\r\n                admin_id: \"\",\r\n                first_name: \"\",\r\n                last_name: \"\",\r\n                mobile1: \"\",\r\n                mobile2: \"\",\r\n                role: \"\",\r\n                email:\"\",\r\n            },\r\n            errors: [],\r\n        };\r\n    },\r\n    beforeRouteEnter(to, from, next) {\r\n        next((vm) => {\r\n            if (to.name == \"Admins.Create\") {\r\n                vm.$refs.first_name.focus();\r\n            } else {\r\n                vm.status = false;\r\n                let uri = { uri: \"getAdmin\", data: { admin_id: to.params.admin_id } };\r\n                vm.$store\r\n                    .dispatch(\"post\", uri)\r\n                    .then(function (response) {\r\n                        console.log(\"response-----\", response.data.data);\r\n                        vm.admin = response.data.data;\r\n                    })\r\n                    .catch(function (error) {\r\n                        vm.errors = error.response.data.errors;\r\n                        vm.$store.dispatch(\"error\", error.response.data.message);\r\n                    });\r\n            }\r\n        });\r\n    },\r\n    methods: {\r\n        submitForm() {\r\n            let vm = this;\r\n            if (vm.status) {\r\n                vm.addAdmin();\r\n            } else {\r\n                vm.updateAdmin();\r\n            }\r\n        },\r\n        addAdmin() {\r\n            let vm = this;\r\n            let loader = vm.$loading.show();\r\n            vm.$store\r\n                .dispatch(\"post\", { uri: \"addAdmin\", data: vm.admin })\r\n                .then(() => {\r\n                    loader.hide();\r\n                    this.$store.dispatch('success',\"Admin created successfully\");\r\n                    vm.$router.push(\"/admins\");\r\n                })\r\n                .catch(function (error) {\r\n                    loader.hide();\r\n                    vm.errors = error.response.data.errors;\r\n                    vm.$store.dispatch(\"error\", error.response.data.message);\r\n                });\r\n        },\r\n        updateAdmin() {\r\n            let vm = this;\r\n            let loader = vm.$loading.show();\r\n            vm.$store\r\n                .dispatch(\"post\", { uri: \"updateAdmin\", data: vm.admin })\r\n                .then(() => {\r\n                    loader.hide();\r\n                    this.$store.dispatch('success',\"Admin updated successfully\");\r\n                    vm.$router.push(\"/admins\");\r\n                })\r\n                .catch(function (error) {\r\n                    loader.hide();\r\n                    vm.errors = error.response.data.errors;\r\n                    vm.$store.dispatch(\"error\", error.response.data.message);\r\n                });\r\n        },\r\n        discard() {\r\n            let vm = this;\r\n            vm.admin.first_name = \"\";\r\n            vm.admin.last_name = \"\";\r\n            vm.admin.email = \"\";\r\n            vm.admin.mobile1 = \"\";\r\n            vm.admin.mobile2 = \"\";\r\n            vm.admin.role = \"\";\r\n            vm.$refs.first_name.focus();\r\n            vm.errors = [];\r\n            vm.status = true;\r\n        },\r\n    },\r\n};\r\n</script>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}