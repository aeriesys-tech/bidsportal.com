{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nexport default {\n  props: {\n    customClass: {\n      default: ''\n    },\n    initialize: {\n      default: null\n    },\n    id: {\n      default: null\n    },\n    label: {\n      default: null\n    },\n    placeholder: {\n      default: \"Select One\"\n    },\n    data: {\n      default: null\n    },\n    tabindex: {\n      default: 0\n    }\n  },\n  data() {\n    return {\n      selectIndex: -1,\n      isOpen: false,\n      search: '',\n      results: [],\n      query: {\n        search: ''\n      },\n      temp: []\n    };\n  },\n  computed: {\n    selectedText() {\n      let vm = this;\n      if (vm.initialize) {\n        let result = vm.data.filter(function (el) {\n          return el[vm.id] == vm.initialize;\n        });\n        if (result && result.length != 0) {\n          return result[0][vm.label];\n        } else {\n          return vm.placeholder;\n        }\n      } else {\n        return vm.placeholder;\n      }\n    }\n  },\n  methods: {\n    focus: function () {\n      this.$refs.toggle.focus();\n    },\n    onToggle() {\n      if (this.isOpen) {\n        this.isOpen = false;\n      } else {\n        this.open();\n      }\n    },\n    onKey(e) {\n      const KeyCode = e.KeyCode || e.which;\n      if (!e.shiftKey && KeyCode !== 9 && !this.isOpen) {\n        this.open();\n      }\n    },\n    open() {\n      this.fetchData('');\n      this.isOpen = true;\n      this.$nextTick(() => {\n        this.$refs.search.focus();\n      });\n    },\n    fetchData(query) {\n      let vm = this;\n      if (query == \"\") {\n        vm.results = vm.data;\n      } else {\n        vm.results = vm.data.filter(function (el) {\n          return el[vm.label].toLowerCase().includes(query.toLowerCase());\n        });\n      }\n    },\n    onBlur() {\n      this.close();\n    },\n    onEsc() {\n      this.close();\n    },\n    close() {\n      this.results = [];\n      this.isOpen = false;\n      this.search = '';\n      this.selectIndex = -1;\n    },\n    onSearch(e) {\n      const q = e.target.value;\n      this.selectIndex = 0;\n      this.fetchData(q);\n    },\n    onUpKey() {\n      if (this.selectIndex > 0) {\n        this.selectIndex--;\n      }\n    },\n    onDownKey() {\n      if (this.results.length - 1 > this.selectIndex) {\n        this.selectIndex++;\n      }\n    },\n    onEnterKey() {\n      const found = this.results[this.selectIndex];\n      if (found) {\n        this.select(found);\n      }\n    },\n    select(result) {\n      console.log(result);\n      console.log(this.id);\n      this.$emit('input', result[this.id]);\n      this.close();\n    },\n    onMouse(index) {\n      this.selectIndex = index;\n    }\n  }\n};","map":{"version":3,"names":["props","customClass","default","initialize","id","label","placeholder","data","tabindex","selectIndex","isOpen","search","results","query","temp","computed","selectedText","vm","result","filter","el","length","methods","focus","$refs","toggle","onToggle","open","onKey","e","KeyCode","which","shiftKey","fetchData","$nextTick","toLowerCase","includes","onBlur","close","onEsc","onSearch","q","target","value","onUpKey","onDownKey","onEnterKey","found","select","console","log","$emit","onMouse","index"],"sources":["/private/var/www/html/bidsportal.com/admin/src/components/Search.vue"],"sourcesContent":["<template>\n    <div :class=\"[isOpen ? 'search search-open' : 'search']\" class=\"dropdown-container\">\n        <div class=\"search-inner\">\n            <input class=\"form-control form-control-sm search-selected\" \n                ref=\"toggle\" \n                :tabindex=\"tabindex\"\n                :value=\"selectedText\"\n                :class=\"customClass\"\n                @click=\"onToggle\"\n                @keydown=\"onKey\"\n            >\n            <transition name=\"fade\" mode=\"out-in\">\n                <div class=\"search-dropdown\" v-if=\"isOpen\">\n                    <div class=\"search-input_wrap\">\n                        \n                        <input type=\"text\" class=\"form-control form-control-sm search-input\" autocomplete=\"off\" placeholder=\"Search...\"\n                            ref=\"search\" @blur=\"onBlur\"\n                            @input=\"onSearch\"\n                            @keydown.esc=\"onEsc\"\n                            @keydown.up=\"onUpKey\"\n                            @keydown.down=\"onDownKey\"\n                            @keydown.enter=\"onEnterKey\"\n                        >\n                    </div>\n                    <table class=\"table table-responsive-sm table-bordered table-striped table-sm search-list\" v-if=\"results && results.length\">\n                        <tbody>\n                            <tr class=\"search-item\" v-for=\"(result, index) in results\" @mousedown.prevent=\"select(result)\" @mouseover.prevent=\"onMouse(index)\" :class=\"['search-link', selectIndex === index ? 'search-active':'']\" :key=\"index\">\n                               \n                                <td>\n                                {{ result[label] }}\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </transition>\n        </div>\n    </div>\n</template>\n\n<script type=\"text/javascript\">\n    export default {\n        props: {\n            customClass: {\n                default: ''\n            },\n            initialize: {\n                default: null\n            },\n            id: {\n                default: null\n            },\n            label: {\n                default: null\n            },\n            placeholder: {\n                default: \"Select One\"\n            },\n            data:{\n                default:null\n            },\n            tabindex: {\n                default: 0\n            }\n        },\n        data () {\n            return {\n                selectIndex: -1,\n                isOpen: false,\n                search: '',\n                results: [],\n                query: {\n                    search: ''\n                },\n                temp:[],\n            }\n        },\n        computed: {\n            selectedText() {\n                let vm =this;\n                if(vm.initialize) {\n                    let result = vm.data.filter(function (el) {\n                        return el[vm.id]==vm.initialize\n                    });\n                    if(result && result.length!=0) {\n                        return result[0][vm.label]\n                    }\n                    else {\n                        return vm.placeholder;\n                    }\n                }\n                else {\n                    return vm.placeholder;\n                }\n            }\n        },\n        \n        methods: {\n            focus: function () {\n                this.$refs.toggle.focus()\n            },\n\n            onToggle() {\n                if(this.isOpen) {\n                    this.isOpen = false\n                } else {\n                    this.open()\n                }\n            },\n            onKey(e) {\n                const KeyCode = e.KeyCode || e.which\n                if(!e.shiftKey && KeyCode !== 9 && !this.isOpen) {\n                    this.open()\n                }\n            },\n            open() {\n                this.fetchData('')\n                this.isOpen = true\n                this.$nextTick(() => {\n                    this.$refs.search.focus()\n                })\n            },\n            fetchData(query) {\n                let vm = this;\n                if(query==\"\") {\n                    vm.results = vm.data;\n                }\n                else {\n                    vm.results = vm.data.filter(function (el) {\n                        return el[vm.label].toLowerCase().includes(query.toLowerCase())\n                    });\n                \n                }\n            },\n            onBlur() {\n                this.close()\n            },\n            onEsc() {\n                this.close()\n            },\n            close() {\n                this.results = []\n                this.isOpen = false\n                this.search = ''\n                this.selectIndex = -1\n            },\n            onSearch(e) {\n                const q = e.target.value\n                this.selectIndex = 0\n                this.fetchData(q)\n            },\n            onUpKey() {\n                if(this.selectIndex > 0) {\n                    this.selectIndex--\n                }\n            },\n            onDownKey() {\n                if(this.results.length - 1 > this.selectIndex) {\n                    this.selectIndex++\n                }\n            },\n            onEnterKey() {\n                const found = this.results[this.selectIndex]\n                if(found) {\n                    this.select(found)\n                }\n            },\n            select(result) {\n                console.log(result)\n                console.log(this.id)\n                this.$emit('input', result[this.id])\n                this.close()\n            },\n            onMouse(index) {\n                this.selectIndex = index\n               \n             \n            }\n         }\n    }\n</script>\n\n<style>\n    .search {\n      position: relative;\n      display: block;\n      background: #fff;\n    }\n\n    .search-open {\n      border-bottom: 0;\n    }\n\n    .search-open .form-control {\n        background: #fff;\n        -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n        border: 1px solid #f2f2f2;\n    }\n\n    .search-inner {\n        position: relative;\n    }\n\n    .search-selected {\n        cursor: pointer;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n        display: -webkit-box !important;\n        display: -ms-flexbox !important;\n        display: flex !important;\n        -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n        justify-content: space-between;\n        line-height: 15px;\n    }\n\n    .search-dropdown {\n        width: 100%;\n        position: absolute;\n        z-index: 999 !important;\n        padding: 5px;\n        background: #fff;\n        border-right: 1px solid #f2f2f2;\n        border-left: 1px solid #f2f2f2;\n        -webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n        overflow-y: scroll !important;\n        max-height: 150px !important;      \n    }\n\n    .search-input {\n      line-height: 13px;\n      font-size: 13px;\n      background: #fafafa;\n      border: none;\n      min-height: 10px !important;\n      border-radius: 1px;\n      -webkit-box-shadow: inset 0 1px 1px 0 rgba(0, 0, 0, 0.1);\n              box-shadow: inset 0 1px 1px 0 rgba(0, 0, 0, 0.1);\n      padding: 4px 4px;\n      width: 100%;\n      display: block;\n     \n    }\n\n    .search-input:focus {\n      outline-style: dotted;\n      outline-width: 1px;\n      outline-offset: 1px;\n    }\n\n    .search-input_wrap {\n      position: relative;\n    }\n\n    .search-list {\n      /* display: block; */\n      margin: 0;\n      padding: 0;\n    }\n\n    .search-link {\n      cursor: pointer;\n      padding: 2px;\n      background: #fff;\n    }\n\n    .search-active {\n      background: #3aa3e3 !important;\n      color: #fff;\n    }\n\n    .search-list td, th { \n        white-space: nowrap; \n        overflow: hidden; \n        text-overflow:ellipsis; \n    }\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}